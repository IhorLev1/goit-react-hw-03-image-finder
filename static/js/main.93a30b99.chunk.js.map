{"version":3,"sources":["Components/Searchbar/Searchbar.module.css","Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallary/ImageGallary.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/App.module.css","Components/Searchbar/Searchbar.js","PixabayApi/PixabayApi.js","Components/ImageGalleryItem/ImageGallaryItem.js","Components/ImageGallary/ImageGallary.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/Loader/Loader.js","Components/App.js","index.js"],"names":["module","exports","Searchbar","state","search","handleSearch","value","target","setState","handleSubmit","event","preventDefault","onSubmitForm","props","trim","toast","error","reset","this","className","s","SearchForm","onSubmit","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autocomplete","autofocus","placeholder","onChange","Component","axios","defaults","baseURL","fetchImgWithQuery","a","page","get","data","hits","ImageGalleryItem","webformatURL","tags","onClickImage","ImageGalleryItem_image","src","alt","onClick","ImageGallery","imgArray","length","map","id","largeImageURL","Button","uploadMorePhotos","prototype","PropTypes","func","isRequired","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","toggleModal","closeByBackDrop","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","Img","PreLoader","Loader","color","height","width","App","isLoading","showModal","onChangeQuery","request","scrollImg","scrollTo","top","documentElement","scrollHeight","behavior","imgFound","imgNotFound","Container","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.93a30b99.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2O4qQ\",\"SearchForm\":\"Searchbar_SearchForm__fThma\",\"SearchForm_button\":\"Searchbar_SearchForm_button__1Mm_u\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3nF5m\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2dH9x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__VGrtM\",\"Modal\":\"Modal_Modal__1nDQB\",\"Img\":\"Modal_Img__2UMXg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3OkBA\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2Edc2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallary_ImageGallery__9aFzA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3cyIX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2HOBJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"App_Container__35knq\"};","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  handleSearch = ({ target }) => {\r\n    const { value } = target;\r\n    this.setState({ search: value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const { search } = this.state;\r\n    const { onSubmitForm } = this.props;\r\n\r\n    if (search.trim() === '') {\r\n      return toast.error('Please enter something to start your search!');\r\n    }\r\n\r\n    onSubmitForm(search);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ search: '' });\r\n  };\r\n\r\n  render() {\r\n    const { search } = this.state;\r\n\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm_button}>\r\n            <span className={s.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleSearch}\r\n            value={search}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmitForm: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\n\r\nconst fetchImgWithQuery = async (search = '', page = 1) => {\r\n  const { data } = await axios.get(\r\n    `/?q=${search}&page=${page}&key=18801046-311dc3cce9ae418b311c7953d&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return data.hits;\r\n};\r\n\r\nexport default fetchImgWithQuery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, tags, onClickImage }) => {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        className={s.ImageGalleryItem_image}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        onClick={onClickImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onClickImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGallary.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGallaryItem';\r\n\r\nconst ImageGallery = ({ imgArray, onClickImage }) => {\r\n  return (\r\n    imgArray.length > 0 && (\r\n      <ul className={s.ImageGallery}>\r\n        {imgArray.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            tags={tags}\r\n            onClickImage={() => onClickImage(largeImageURL)}\r\n          />\r\n        ))}\r\n      </ul>\r\n    )\r\n  );\r\n};\r\nImageGallery.propTypes = {\r\n  imgArray: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  onClickImage: PropTypes.func.isRequired,\r\n};\r\n\r\n// ImageGallary.propTypes = {\r\n//   imgArray: PropTypes.arrayOf(\r\n//     PropTypes.shape({\r\n//       id: PropTypes.number.isRequired,\r\n//       webformatURL: PropTypes.string.isRequired,\r\n//       largeImgURL: PropTypes.string.isRequired,\r\n//       tags: PropTypes.string.isRequired,\r\n//     }),\r\n//   ),\r\n//   onClickImage: PropTypes.func.isRequired,\r\n// };\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ uploadMorePhotos }) => {\r\n  return (\r\n    <button\r\n      className={s.Button}\r\n      type=\"button\"\r\n      onClick={() => uploadMorePhotos()}\r\n    >\r\n      Load More\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.prototype = {\r\n  uploadMorePhotos: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  closeByBackDrop = ({ target, currentTarget }) => {\r\n    if (target === currentTarget) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.closeByBackDrop}>\r\n        <div className={s.Modal}>\r\n          <img className={s.Img} src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nimport s from './Loader.module.css';\r\n\r\nconst PreLoader = () => {\r\n  return (\r\n    <div className={s.Loader}>\r\n      <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreLoader;\r\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport Searchbar from './Searchbar';\nimport fetchImgWithQuery from '../PixabayApi';\nimport ImageGallery from './ImageGallary';\nimport Button from './Button';\nimport Modal from './Modal';\nimport Loader from './Loader';\n\nimport s from './App.module.css';\n\nclass App extends Component {\n  state = {\n    search: '',\n    page: 1,\n    imgArray: [],\n    isLoading: false,\n    showModal: false,\n    largeImageURL: '',\n    error: null,\n  };\n\n  onChangeQuery = async data => {\n    this.setState({ search: data, page: 1, isLoading: true, error: null });\n\n    try {\n      const request = await fetchImgWithQuery(data);\n      this.setState(({ page }) => ({ imgArray: [...request], page: page + 1 }));\n      this.scrollImg();\n    } catch (error) {\n      this.setState({ error });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  uploadMorePhotos = async () => {\n    const { search, page } = this.state;\n    this.setState({ isLoading: true });\n\n    try {\n      const request = await fetchImgWithQuery(search, page);\n      this.setState(({ imgArray, page }) => ({\n        imgArray: [...imgArray, ...request],\n        page: page + 1,\n      }));\n      this.scrollImg();\n    } catch (error) {\n      this.setState({ error });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  scrollImg = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  onClickImage = largeImageURL => {\n    this.setState({ largeImageURL: largeImageURL });\n    this.toggleModal();\n  };\n\n  render() {\n    const {\n      imgArray,\n      isLoading,\n      showModal,\n      largeImageURL,\n      error,\n      search,\n    } = this.state;\n\n    const imgFound = imgArray.length > 0 && !error;\n    const imgNotFound = search && imgArray.length === 0 && !error && !isLoading;\n\n    return (\n      <div className={s.Container}>\n        <Searchbar onSubmitForm={this.onChangeQuery} />\n        {error && <p>Whoops, something went wrong. Try again.</p>}\n        {imgFound && (\n          <>\n            <ImageGallery\n              onClickImage={this.onClickImage}\n              imgArray={imgArray}\n            />\n            {!isLoading && <Button uploadMorePhotos={this.uploadMorePhotos} />}\n            {isLoading && <Loader />}\n            {showModal && (\n              <Modal\n                largeImageURL={largeImageURL}\n                toggleModal={this.toggleModal}\n              />\n            )}\n          </>\n        )}\n        {imgNotFound && (\n          <p>No results were found for your search. Try again.</p>\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.module.css';\r\nimport 'modern-normalize/modern-normalize.css';\r\n\r\nimport App from './Components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}